"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/auth/callback";
exports.ids = ["pages/api/auth/callback"];
exports.modules = {

/***/ "@supabase/supabase-js":
/*!****************************************!*\
  !*** external "@supabase/supabase-js" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("@supabase/supabase-js");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2Fcallback&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cauth%5Ccallback.js&middlewareConfigBase64=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2Fcallback&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cauth%5Ccallback.js&middlewareConfigBase64=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_auth_callback_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\auth\\callback.js */ \"(api)/./pages/api/auth/callback.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_auth_callback_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_auth_callback_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/auth/callback\",\n        pathname: \"/api/auth/callback\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_auth_callback_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmF1dGglMkZjYWxsYmFjayZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTVDYXBpJTVDYXV0aCU1Q2NhbGxiYWNrLmpzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQzREO0FBQzVEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyx3REFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsd0RBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWtpbGxpLXlrcy1hc2lzdGFuaS8/YjU3ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXNcXFxcYXBpXFxcXGF1dGhcXFxcY2FsbGJhY2suanNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9hdXRoL2NhbGxiYWNrXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYXV0aC9jYWxsYmFja1wiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2Fcallback&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cauth%5Ccallback.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/supabase.js":
/*!*************************!*\
  !*** ./lib/supabase.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   auth: () => (/* binding */ auth),\n/* harmony export */   db: () => (/* binding */ db),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   supabase: () => (/* binding */ supabase)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"@supabase/supabase-js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__);\n\n// Supabase URL ve Anon Key - Bu değerler .env.local dosyasından alınacak\nconst supabaseUrl = \"https://jovfhfxtystrqcbujyxy.supabase.co\";\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpvdmZoZnh0eXN0cnFjYnVqeXh5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY5MzcyNzAsImV4cCI6MjA3MjUxMzI3MH0.1wzHAV12XWXAvoO7XfCk3Isrjj25IJt3KIqFrpA6W-s\";\n// Supabase client oluştur\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey, {\n    auth: {\n        flowType: \"pkce\",\n        autoRefreshToken: true,\n        persistSession: true,\n        detectSessionInUrl: true\n    }\n});\n// Kullanıcı authentication fonksiyonları\nconst auth = {\n    // Kullanıcı kaydı\n    signUp: async (email, password, userData = {})=>{\n        const { data, error } = await supabase.auth.signUp({\n            email,\n            password,\n            options: {\n                data: userData\n            }\n        });\n        return {\n            data,\n            error\n        };\n    },\n    // Kullanıcı girişi\n    signIn: async (email, password)=>{\n        const { data, error } = await supabase.auth.signInWithPassword({\n            email,\n            password\n        });\n        return {\n            data,\n            error\n        };\n    },\n    // Kullanıcı çıkışı\n    signOut: async ()=>{\n        const { error } = await supabase.auth.signOut();\n        return {\n            error\n        };\n    },\n    // Mevcut kullanıcıyı al\n    getCurrentUser: async ()=>{\n        const { data: { user } } = await supabase.auth.getUser();\n        return user;\n    },\n    // Auth state değişikliklerini dinle\n    onAuthStateChange: (callback)=>{\n        return supabase.auth.onAuthStateChange(callback);\n    }\n};\n// Veritabanı işlemleri\nconst db = {\n    // Deneme sınavı sonuçları\n    exams: {\n        // Yeni deneme sonucu ekle\n        create: async (examData)=>{\n            const { data, error } = await supabase.from(\"exam_results\").insert([\n                examData\n            ]).select();\n            return {\n                data,\n                error\n            };\n        },\n        // Kullanıcının tüm deneme sonuçlarını getir\n        getByUserId: async (userId)=>{\n            try {\n                const { data, error } = await supabase.from(\"exam_results\").select(\"*\").eq(\"user_id\", userId).order(\"created_at\", {\n                    ascending: false\n                });\n                if (error) {\n                    console.error(\"Database error in getByUserId:\", error);\n                    return {\n                        data: [],\n                        error\n                    };\n                }\n                return {\n                    data: data || [],\n                    error: null\n                };\n            } catch (err) {\n                console.error(\"Unexpected error in getByUserId:\", err);\n                return {\n                    data: [],\n                    error: err\n                };\n            }\n        },\n        // Deneme sonucunu güncelle\n        update: async (id, examData)=>{\n            const { data, error } = await supabase.from(\"exam_results\").update(examData).eq(\"id\", id).select();\n            return {\n                data,\n                error\n            };\n        },\n        // Deneme sonucunu sil\n        delete: async (id)=>{\n            const { data, error } = await supabase.from(\"exam_results\").delete().eq(\"id\", id);\n            return {\n                data,\n                error\n            };\n        }\n    },\n    // Çalışma saatleri\n    studySessions: {\n        // Yeni çalışma seansı ekle\n        create: async (sessionData)=>{\n            const { data, error } = await supabase.from(\"study_sessions\").insert([\n                sessionData\n            ]).select();\n            return {\n                data,\n                error\n            };\n        },\n        // Kullanıcının çalışma seanslarını getir\n        getByUserId: async (userId, startDate = null, endDate = null)=>{\n            let query = supabase.from(\"study_sessions\").select(\"*\").eq(\"user_id\", userId).order(\"created_at\", {\n                ascending: false\n            });\n            if (startDate) {\n                query = query.gte(\"created_at\", startDate);\n            }\n            if (endDate) {\n                query = query.lte(\"created_at\", endDate);\n            }\n            const { data, error } = await query;\n            return {\n                data,\n                error\n            };\n        }\n    },\n    // Hedefler\n    goals: {\n        // Yeni hedef ekle\n        create: async (goalData)=>{\n            const { data, error } = await supabase.from(\"goals\").insert([\n                goalData\n            ]).select();\n            return {\n                data,\n                error\n            };\n        },\n        // Kullanıcının hedeflerini getir\n        getByUserId: async (userId)=>{\n            const { data, error } = await supabase.from(\"goals\").select(\"*\").eq(\"user_id\", userId).order(\"created_at\", {\n                ascending: false\n            });\n            return {\n                data,\n                error\n            };\n        },\n        // Hedef güncelle\n        update: async (id, goalData)=>{\n            const { data, error } = await supabase.from(\"goals\").update(goalData).eq(\"id\", id).select();\n            return {\n                data,\n                error\n            };\n        },\n        // Hedef sil\n        delete: async (id)=>{\n            const { data, error } = await supabase.from(\"goals\").delete().eq(\"id\", id);\n            return {\n                data,\n                error\n            };\n        }\n    },\n    // Yapılacaklar listesi\n    todos: {\n        // Todo oluştur\n        create: async (todoData)=>{\n            const { data, error } = await supabase.from(\"todos\").insert([\n                todoData\n            ]).select();\n            return {\n                data,\n                error\n            };\n        },\n        // Kullanıcının todo'larını getir\n        getByUserId: async (userId)=>{\n            const { data, error } = await supabase.from(\"todos\").select(\"*\").eq(\"user_id\", userId).order(\"created_at\", {\n                ascending: false\n            });\n            return {\n                data,\n                error\n            };\n        },\n        // Todo güncelle\n        update: async (id, todoData)=>{\n            const { data, error } = await supabase.from(\"todos\").update(todoData).eq(\"id\", id).select();\n            return {\n                data,\n                error\n            };\n        },\n        // Todo sil\n        delete: async (id)=>{\n            const { data, error } = await supabase.from(\"todos\").delete().eq(\"id\", id);\n            return {\n                data,\n                error\n            };\n        }\n    },\n    // Takvim etkinlikleri\n    calendarEvents: {\n        // Etkinlik oluştur\n        create: async (eventData)=>{\n            const { data, error } = await supabase.from(\"calendar_events\").insert([\n                eventData\n            ]).select();\n            return {\n                data,\n                error\n            };\n        },\n        // Kullanıcının etkinliklerini getir\n        getByUserId: async (userId, startDate = null, endDate = null)=>{\n            let query = supabase.from(\"calendar_events\").select(\"*\").eq(\"user_id\", userId);\n            if (startDate && endDate) {\n                query = query.gte(\"date\", startDate).lte(\"date\", endDate);\n            }\n            const { data, error } = await query.order(\"date\", {\n                ascending: true\n            });\n            return {\n                data,\n                error\n            };\n        },\n        // Etkinlik güncelle\n        update: async (id, eventData)=>{\n            const { data, error } = await supabase.from(\"calendar_events\").update(eventData).eq(\"id\", id).select();\n            return {\n                data,\n                error\n            };\n        },\n        // Etkinlik sil\n        delete: async (id)=>{\n            const { data, error } = await supabase.from(\"calendar_events\").delete().eq(\"id\", id);\n            return {\n                data,\n                error\n            };\n        },\n        // Belirli bir tarihteki etkinlikleri getir\n        getByDate: async (userId, date)=>{\n            const { data, error } = await supabase.from(\"calendar_events\").select(\"*\").eq(\"user_id\", userId).eq(\"date\", date).order(\"time\", {\n                ascending: true\n            });\n            return {\n                data,\n                error\n            };\n        }\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (supabase);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YWtpbGxpLXlrcy1hc2lzdGFuaS8uL2xpYi9zdXBhYmFzZS5qcz8xNTk4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcyc7XG5cbi8vIFN1cGFiYXNlIFVSTCB2ZSBBbm9uIEtleSAtIEJ1IGRlxJ9lcmxlciAuZW52LmxvY2FsIGRvc3lhc8SxbmRhbiBhbMSxbmFjYWtcbmNvbnN0IHN1cGFiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMO1xuY29uc3Qgc3VwYWJhc2VBbm9uS2V5ID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVk7XG5cbi8vIFN1cGFiYXNlIGNsaWVudCBvbHXFn3R1clxuZXhwb3J0IGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsLCBzdXBhYmFzZUFub25LZXksIHtcbiAgYXV0aDoge1xuICAgIGZsb3dUeXBlOiAncGtjZScsXG4gICAgYXV0b1JlZnJlc2hUb2tlbjogdHJ1ZSxcbiAgICBwZXJzaXN0U2Vzc2lvbjogdHJ1ZSxcbiAgICBkZXRlY3RTZXNzaW9uSW5Vcmw6IHRydWVcbiAgfVxufSk7XG5cbi8vIEt1bGxhbsSxY8SxIGF1dGhlbnRpY2F0aW9uIGZvbmtzaXlvbmxhcsSxXG5leHBvcnQgY29uc3QgYXV0aCA9IHtcbiAgLy8gS3VsbGFuxLFjxLEga2F5ZMSxXG4gIHNpZ25VcDogYXN5bmMgKGVtYWlsLCBwYXNzd29yZCwgdXNlckRhdGEgPSB7fSkgPT4ge1xuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguc2lnblVwKHtcbiAgICAgIGVtYWlsLFxuICAgICAgcGFzc3dvcmQsXG4gICAgICBvcHRpb25zOiB7XG4gICAgICAgIGRhdGE6IHVzZXJEYXRhXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHsgZGF0YSwgZXJyb3IgfTtcbiAgfSxcblxuICAvLyBLdWxsYW7EsWPEsSBnaXJpxZ9pXG4gIHNpZ25JbjogYXN5bmMgKGVtYWlsLCBwYXNzd29yZCkgPT4ge1xuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguc2lnbkluV2l0aFBhc3N3b3JkKHtcbiAgICAgIGVtYWlsLFxuICAgICAgcGFzc3dvcmRcbiAgICB9KTtcbiAgICByZXR1cm4geyBkYXRhLCBlcnJvciB9O1xuICB9LFxuXG4gIC8vIEt1bGxhbsSxY8SxIMOnxLFrxLHFn8SxXG4gIHNpZ25PdXQ6IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLnNpZ25PdXQoKTtcbiAgICByZXR1cm4geyBlcnJvciB9O1xuICB9LFxuXG4gIC8vIE1ldmN1dCBrdWxsYW7EsWPEsXnEsSBhbFxuICBnZXRDdXJyZW50VXNlcjogYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHsgZGF0YTogeyB1c2VyIH0gfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuICAgIHJldHVybiB1c2VyO1xuICB9LFxuXG4gIC8vIEF1dGggc3RhdGUgZGXEn2nFn2lrbGlrbGVyaW5pIGRpbmxlXG4gIG9uQXV0aFN0YXRlQ2hhbmdlOiAoY2FsbGJhY2spID0+IHtcbiAgICByZXR1cm4gc3VwYWJhc2UuYXV0aC5vbkF1dGhTdGF0ZUNoYW5nZShjYWxsYmFjayk7XG4gIH1cbn07XG5cbi8vIFZlcml0YWJhbsSxIGnFn2xlbWxlcmlcbmV4cG9ydCBjb25zdCBkYiA9IHtcbiAgLy8gRGVuZW1lIHPEsW5hdsSxIHNvbnXDp2xhcsSxXG4gIGV4YW1zOiB7XG4gICAgLy8gWWVuaSBkZW5lbWUgc29udWN1IGVrbGVcbiAgICBjcmVhdGU6IGFzeW5jIChleGFtRGF0YSkgPT4ge1xuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ2V4YW1fcmVzdWx0cycpXG4gICAgICAgIC5pbnNlcnQoW2V4YW1EYXRhXSlcbiAgICAgICAgLnNlbGVjdCgpO1xuICAgICAgcmV0dXJuIHsgZGF0YSwgZXJyb3IgfTtcbiAgICB9LFxuXG4gICAgLy8gS3VsbGFuxLFjxLFuxLFuIHTDvG0gZGVuZW1lIHNvbnXDp2xhcsSxbsSxIGdldGlyXG4gICAgZ2V0QnlVc2VySWQ6IGFzeW5jICh1c2VySWQpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgLmZyb20oJ2V4YW1fcmVzdWx0cycpXG4gICAgICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAgICAgLmVxKCd1c2VyX2lkJywgdXNlcklkKVxuICAgICAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcbiAgICAgICAgXG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0RhdGFiYXNlIGVycm9yIGluIGdldEJ5VXNlcklkOicsIGVycm9yKTtcbiAgICAgICAgICByZXR1cm4geyBkYXRhOiBbXSwgZXJyb3IgfTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHsgZGF0YTogZGF0YSB8fCBbXSwgZXJyb3I6IG51bGwgfTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdVbmV4cGVjdGVkIGVycm9yIGluIGdldEJ5VXNlcklkOicsIGVycik7XG4gICAgICAgIHJldHVybiB7IGRhdGE6IFtdLCBlcnJvcjogZXJyIH07XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8vIERlbmVtZSBzb251Y3VudSBnw7xuY2VsbGVcbiAgICB1cGRhdGU6IGFzeW5jIChpZCwgZXhhbURhdGEpID0+IHtcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdleGFtX3Jlc3VsdHMnKVxuICAgICAgICAudXBkYXRlKGV4YW1EYXRhKVxuICAgICAgICAuZXEoJ2lkJywgaWQpXG4gICAgICAgIC5zZWxlY3QoKTtcbiAgICAgIHJldHVybiB7IGRhdGEsIGVycm9yIH07XG4gICAgfSxcblxuICAgIC8vIERlbmVtZSBzb251Y3VudSBzaWxcbiAgICBkZWxldGU6IGFzeW5jIChpZCkgPT4ge1xuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ2V4YW1fcmVzdWx0cycpXG4gICAgICAgIC5kZWxldGUoKVxuICAgICAgICAuZXEoJ2lkJywgaWQpO1xuICAgICAgcmV0dXJuIHsgZGF0YSwgZXJyb3IgfTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gw4dhbMSxxZ9tYSBzYWF0bGVyaVxuICBzdHVkeVNlc3Npb25zOiB7XG4gICAgLy8gWWVuaSDDp2FsxLHFn21hIHNlYW5zxLEgZWtsZVxuICAgIGNyZWF0ZTogYXN5bmMgKHNlc3Npb25EYXRhKSA9PiB7XG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgnc3R1ZHlfc2Vzc2lvbnMnKVxuICAgICAgICAuaW5zZXJ0KFtzZXNzaW9uRGF0YV0pXG4gICAgICAgIC5zZWxlY3QoKTtcbiAgICAgIHJldHVybiB7IGRhdGEsIGVycm9yIH07XG4gICAgfSxcblxuICAgIC8vIEt1bGxhbsSxY8SxbsSxbiDDp2FsxLHFn21hIHNlYW5zbGFyxLFuxLEgZ2V0aXJcbiAgICBnZXRCeVVzZXJJZDogYXN5bmMgKHVzZXJJZCwgc3RhcnREYXRlID0gbnVsbCwgZW5kRGF0ZSA9IG51bGwpID0+IHtcbiAgICAgIGxldCBxdWVyeSA9IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdzdHVkeV9zZXNzaW9ucycpXG4gICAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgICAuZXEoJ3VzZXJfaWQnLCB1c2VySWQpXG4gICAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcbiAgICAgIFxuICAgICAgaWYgKHN0YXJ0RGF0ZSkge1xuICAgICAgICBxdWVyeSA9IHF1ZXJ5Lmd0ZSgnY3JlYXRlZF9hdCcsIHN0YXJ0RGF0ZSk7XG4gICAgICB9XG4gICAgICBpZiAoZW5kRGF0ZSkge1xuICAgICAgICBxdWVyeSA9IHF1ZXJ5Lmx0ZSgnY3JlYXRlZF9hdCcsIGVuZERhdGUpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBxdWVyeTtcbiAgICAgIHJldHVybiB7IGRhdGEsIGVycm9yIH07XG4gICAgfVxuICB9LFxuXG4gIC8vIEhlZGVmbGVyXG4gIGdvYWxzOiB7XG4gICAgLy8gWWVuaSBoZWRlZiBla2xlXG4gICAgY3JlYXRlOiBhc3luYyAoZ29hbERhdGEpID0+IHtcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdnb2FscycpXG4gICAgICAgIC5pbnNlcnQoW2dvYWxEYXRhXSlcbiAgICAgICAgLnNlbGVjdCgpO1xuICAgICAgcmV0dXJuIHsgZGF0YSwgZXJyb3IgfTtcbiAgICB9LFxuXG4gICAgLy8gS3VsbGFuxLFjxLFuxLFuIGhlZGVmbGVyaW5pIGdldGlyXG4gICAgZ2V0QnlVc2VySWQ6IGFzeW5jICh1c2VySWQpID0+IHtcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdnb2FscycpXG4gICAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgICAuZXEoJ3VzZXJfaWQnLCB1c2VySWQpXG4gICAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcbiAgICAgIHJldHVybiB7IGRhdGEsIGVycm9yIH07XG4gICAgfSxcblxuICAgIC8vIEhlZGVmIGfDvG5jZWxsZVxuICAgIHVwZGF0ZTogYXN5bmMgKGlkLCBnb2FsRGF0YSkgPT4ge1xuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ2dvYWxzJylcbiAgICAgICAgLnVwZGF0ZShnb2FsRGF0YSlcbiAgICAgICAgLmVxKCdpZCcsIGlkKVxuICAgICAgICAuc2VsZWN0KCk7XG4gICAgICByZXR1cm4geyBkYXRhLCBlcnJvciB9O1xuICAgIH0sXG5cbiAgICAvLyBIZWRlZiBzaWxcbiAgICBkZWxldGU6IGFzeW5jIChpZCkgPT4ge1xuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ2dvYWxzJylcbiAgICAgICAgLmRlbGV0ZSgpXG4gICAgICAgIC5lcSgnaWQnLCBpZCk7XG4gICAgICByZXR1cm4geyBkYXRhLCBlcnJvciB9O1xuICAgIH1cbiAgfSxcblxuICAvLyBZYXDEsWxhY2FrbGFyIGxpc3Rlc2lcbiAgdG9kb3M6IHtcbiAgICAvLyBUb2RvIG9sdcWfdHVyXG4gICAgY3JlYXRlOiBhc3luYyAodG9kb0RhdGEpID0+IHtcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCd0b2RvcycpXG4gICAgICAgIC5pbnNlcnQoW3RvZG9EYXRhXSlcbiAgICAgICAgLnNlbGVjdCgpO1xuICAgICAgcmV0dXJuIHsgZGF0YSwgZXJyb3IgfTtcbiAgICB9LFxuXG4gICAgLy8gS3VsbGFuxLFjxLFuxLFuIHRvZG8nbGFyxLFuxLEgZ2V0aXJcbiAgICBnZXRCeVVzZXJJZDogYXN5bmMgKHVzZXJJZCkgPT4ge1xuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ3RvZG9zJylcbiAgICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAgIC5lcSgndXNlcl9pZCcsIHVzZXJJZClcbiAgICAgICAgLm9yZGVyKCdjcmVhdGVkX2F0JywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pO1xuICAgICAgcmV0dXJuIHsgZGF0YSwgZXJyb3IgfTtcbiAgICB9LFxuXG4gICAgLy8gVG9kbyBnw7xuY2VsbGVcbiAgICB1cGRhdGU6IGFzeW5jIChpZCwgdG9kb0RhdGEpID0+IHtcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCd0b2RvcycpXG4gICAgICAgIC51cGRhdGUodG9kb0RhdGEpXG4gICAgICAgIC5lcSgnaWQnLCBpZClcbiAgICAgICAgLnNlbGVjdCgpO1xuICAgICAgcmV0dXJuIHsgZGF0YSwgZXJyb3IgfTtcbiAgICB9LFxuXG4gICAgLy8gVG9kbyBzaWxcbiAgICBkZWxldGU6IGFzeW5jIChpZCkgPT4ge1xuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ3RvZG9zJylcbiAgICAgICAgLmRlbGV0ZSgpXG4gICAgICAgIC5lcSgnaWQnLCBpZCk7XG4gICAgICByZXR1cm4geyBkYXRhLCBlcnJvciB9O1xuICAgIH1cbiAgfSxcblxuICAvLyBUYWt2aW0gZXRraW5saWtsZXJpXG4gIGNhbGVuZGFyRXZlbnRzOiB7XG4gICAgLy8gRXRraW5saWsgb2x1xZ90dXJcbiAgICBjcmVhdGU6IGFzeW5jIChldmVudERhdGEpID0+IHtcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdjYWxlbmRhcl9ldmVudHMnKVxuICAgICAgICAuaW5zZXJ0KFtldmVudERhdGFdKVxuICAgICAgICAuc2VsZWN0KCk7XG4gICAgICByZXR1cm4geyBkYXRhLCBlcnJvciB9O1xuICAgIH0sXG5cbiAgICAvLyBLdWxsYW7EsWPEsW7EsW4gZXRraW5saWtsZXJpbmkgZ2V0aXJcbiAgICBnZXRCeVVzZXJJZDogYXN5bmMgKHVzZXJJZCwgc3RhcnREYXRlID0gbnVsbCwgZW5kRGF0ZSA9IG51bGwpID0+IHtcbiAgICAgIGxldCBxdWVyeSA9IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdjYWxlbmRhcl9ldmVudHMnKVxuICAgICAgICAuc2VsZWN0KCcqJylcbiAgICAgICAgLmVxKCd1c2VyX2lkJywgdXNlcklkKTtcbiAgICAgIFxuICAgICAgaWYgKHN0YXJ0RGF0ZSAmJiBlbmREYXRlKSB7XG4gICAgICAgIHF1ZXJ5ID0gcXVlcnlcbiAgICAgICAgICAuZ3RlKCdkYXRlJywgc3RhcnREYXRlKVxuICAgICAgICAgIC5sdGUoJ2RhdGUnLCBlbmREYXRlKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgcXVlcnkub3JkZXIoJ2RhdGUnLCB7IGFzY2VuZGluZzogdHJ1ZSB9KTtcbiAgICAgIHJldHVybiB7IGRhdGEsIGVycm9yIH07XG4gICAgfSxcblxuICAgIC8vIEV0a2lubGlrIGfDvG5jZWxsZVxuICAgIHVwZGF0ZTogYXN5bmMgKGlkLCBldmVudERhdGEpID0+IHtcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdjYWxlbmRhcl9ldmVudHMnKVxuICAgICAgICAudXBkYXRlKGV2ZW50RGF0YSlcbiAgICAgICAgLmVxKCdpZCcsIGlkKVxuICAgICAgICAuc2VsZWN0KCk7XG4gICAgICByZXR1cm4geyBkYXRhLCBlcnJvciB9O1xuICAgIH0sXG5cbiAgICAvLyBFdGtpbmxpayBzaWxcbiAgICBkZWxldGU6IGFzeW5jIChpZCkgPT4ge1xuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ2NhbGVuZGFyX2V2ZW50cycpXG4gICAgICAgIC5kZWxldGUoKVxuICAgICAgICAuZXEoJ2lkJywgaWQpO1xuICAgICAgcmV0dXJuIHsgZGF0YSwgZXJyb3IgfTtcbiAgICB9LFxuXG4gICAgLy8gQmVsaXJsaSBiaXIgdGFyaWh0ZWtpIGV0a2lubGlrbGVyaSBnZXRpclxuICAgIGdldEJ5RGF0ZTogYXN5bmMgKHVzZXJJZCwgZGF0ZSkgPT4ge1xuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ2NhbGVuZGFyX2V2ZW50cycpXG4gICAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgICAuZXEoJ3VzZXJfaWQnLCB1c2VySWQpXG4gICAgICAgIC5lcSgnZGF0ZScsIGRhdGUpXG4gICAgICAgIC5vcmRlcigndGltZScsIHsgYXNjZW5kaW5nOiB0cnVlIH0pO1xuICAgICAgcmV0dXJuIHsgZGF0YSwgZXJyb3IgfTtcbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IHN1cGFiYXNlOyJdLCJuYW1lcyI6WyJjcmVhdGVDbGllbnQiLCJzdXBhYmFzZVVybCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJzdXBhYmFzZUFub25LZXkiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsInN1cGFiYXNlIiwiYXV0aCIsImZsb3dUeXBlIiwiYXV0b1JlZnJlc2hUb2tlbiIsInBlcnNpc3RTZXNzaW9uIiwiZGV0ZWN0U2Vzc2lvbkluVXJsIiwic2lnblVwIiwiZW1haWwiLCJwYXNzd29yZCIsInVzZXJEYXRhIiwiZGF0YSIsImVycm9yIiwib3B0aW9ucyIsInNpZ25JbiIsInNpZ25JbldpdGhQYXNzd29yZCIsInNpZ25PdXQiLCJnZXRDdXJyZW50VXNlciIsInVzZXIiLCJnZXRVc2VyIiwib25BdXRoU3RhdGVDaGFuZ2UiLCJjYWxsYmFjayIsImRiIiwiZXhhbXMiLCJjcmVhdGUiLCJleGFtRGF0YSIsImZyb20iLCJpbnNlcnQiLCJzZWxlY3QiLCJnZXRCeVVzZXJJZCIsInVzZXJJZCIsImVxIiwib3JkZXIiLCJhc2NlbmRpbmciLCJjb25zb2xlIiwiZXJyIiwidXBkYXRlIiwiaWQiLCJkZWxldGUiLCJzdHVkeVNlc3Npb25zIiwic2Vzc2lvbkRhdGEiLCJzdGFydERhdGUiLCJlbmREYXRlIiwicXVlcnkiLCJndGUiLCJsdGUiLCJnb2FscyIsImdvYWxEYXRhIiwidG9kb3MiLCJ0b2RvRGF0YSIsImNhbGVuZGFyRXZlbnRzIiwiZXZlbnREYXRhIiwiZ2V0QnlEYXRlIiwiZGF0ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./lib/supabase.js\n");

/***/ }),

/***/ "(api)/./pages/api/auth/callback.js":
/*!************************************!*\
  !*** ./pages/api/auth/callback.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/supabase */ \"(api)/./lib/supabase.js\");\n\nasync function handler(req, res) {\n    const { code, error, error_description } = req.query;\n    if (error) {\n        console.error(\"OAuth error:\", error, error_description);\n        return res.redirect(`/auth?error=${encodeURIComponent(error_description || error)}`);\n    }\n    if (code) {\n        try {\n            // Exchange the code for a session\n            const { data, error: sessionError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.auth.exchangeCodeForSession(code);\n            if (sessionError) {\n                console.error(\"Session exchange error:\", sessionError);\n                return res.redirect(`/auth?error=${encodeURIComponent(sessionError.message)}`);\n            }\n            // Successful authentication - redirect to home page\n            return res.redirect(\"/?auth=success\");\n        } catch (err) {\n            console.error(\"Unexpected error during auth callback:\", err);\n            return res.redirect(`/auth?error=${encodeURIComponent(\"Authentication failed\")}`);\n        }\n    }\n    // No code provided\n    return res.redirect(\"/auth?error=No authentication code provided\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvYXV0aC9jYWxsYmFjay5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFpRDtBQUVsQyxlQUFlQyxRQUFRQyxHQUFHLEVBQUVDLEdBQUc7SUFDNUMsTUFBTSxFQUFFQyxJQUFJLEVBQUVDLEtBQUssRUFBRUMsaUJBQWlCLEVBQUUsR0FBR0osSUFBSUssS0FBSztJQUVwRCxJQUFJRixPQUFPO1FBQ1RHLFFBQVFILEtBQUssQ0FBQyxnQkFBZ0JBLE9BQU9DO1FBQ3JDLE9BQU9ILElBQUlNLFFBQVEsQ0FBQyxDQUFDLFlBQVksRUFBRUMsbUJBQW1CSixxQkFBcUJELE9BQU8sQ0FBQztJQUNyRjtJQUVBLElBQUlELE1BQU07UUFDUixJQUFJO1lBQ0Ysa0NBQWtDO1lBQ2xDLE1BQU0sRUFBRU8sSUFBSSxFQUFFTixPQUFPTyxZQUFZLEVBQUUsR0FBRyxNQUFNWixtREFBUUEsQ0FBQ2EsSUFBSSxDQUFDQyxzQkFBc0IsQ0FBQ1Y7WUFFakYsSUFBSVEsY0FBYztnQkFDaEJKLFFBQVFILEtBQUssQ0FBQywyQkFBMkJPO2dCQUN6QyxPQUFPVCxJQUFJTSxRQUFRLENBQUMsQ0FBQyxZQUFZLEVBQUVDLG1CQUFtQkUsYUFBYUcsT0FBTyxFQUFFLENBQUM7WUFDL0U7WUFFQSxvREFBb0Q7WUFDcEQsT0FBT1osSUFBSU0sUUFBUSxDQUFDO1FBQ3RCLEVBQUUsT0FBT08sS0FBSztZQUNaUixRQUFRSCxLQUFLLENBQUMsMENBQTBDVztZQUN4RCxPQUFPYixJQUFJTSxRQUFRLENBQUMsQ0FBQyxZQUFZLEVBQUVDLG1CQUFtQix5QkFBeUIsQ0FBQztRQUNsRjtJQUNGO0lBRUEsbUJBQW1CO0lBQ25CLE9BQU9QLElBQUlNLFFBQVEsQ0FBQztBQUN0QiIsInNvdXJjZXMiOlsid2VicGFjazovL2FraWxsaS15a3MtYXNpc3RhbmkvLi9wYWdlcy9hcGkvYXV0aC9jYWxsYmFjay5qcz9hYWExIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN1cGFiYXNlIH0gZnJvbSAnLi4vLi4vLi4vbGliL3N1cGFiYXNlJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcclxuICBjb25zdCB7IGNvZGUsIGVycm9yLCBlcnJvcl9kZXNjcmlwdGlvbiB9ID0gcmVxLnF1ZXJ5O1xyXG5cclxuICBpZiAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ09BdXRoIGVycm9yOicsIGVycm9yLCBlcnJvcl9kZXNjcmlwdGlvbik7XHJcbiAgICByZXR1cm4gcmVzLnJlZGlyZWN0KGAvYXV0aD9lcnJvcj0ke2VuY29kZVVSSUNvbXBvbmVudChlcnJvcl9kZXNjcmlwdGlvbiB8fCBlcnJvcil9YCk7XHJcbiAgfVxyXG5cclxuICBpZiAoY29kZSkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gRXhjaGFuZ2UgdGhlIGNvZGUgZm9yIGEgc2Vzc2lvblxyXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yOiBzZXNzaW9uRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZXhjaGFuZ2VDb2RlRm9yU2Vzc2lvbihjb2RlKTtcclxuICAgICAgXHJcbiAgICAgIGlmIChzZXNzaW9uRXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdTZXNzaW9uIGV4Y2hhbmdlIGVycm9yOicsIHNlc3Npb25FcnJvcik7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5yZWRpcmVjdChgL2F1dGg/ZXJyb3I9JHtlbmNvZGVVUklDb21wb25lbnQoc2Vzc2lvbkVycm9yLm1lc3NhZ2UpfWApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBTdWNjZXNzZnVsIGF1dGhlbnRpY2F0aW9uIC0gcmVkaXJlY3QgdG8gaG9tZSBwYWdlXHJcbiAgICAgIHJldHVybiByZXMucmVkaXJlY3QoJy8/YXV0aD1zdWNjZXNzJyk7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignVW5leHBlY3RlZCBlcnJvciBkdXJpbmcgYXV0aCBjYWxsYmFjazonLCBlcnIpO1xyXG4gICAgICByZXR1cm4gcmVzLnJlZGlyZWN0KGAvYXV0aD9lcnJvcj0ke2VuY29kZVVSSUNvbXBvbmVudCgnQXV0aGVudGljYXRpb24gZmFpbGVkJyl9YCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBObyBjb2RlIHByb3ZpZGVkXHJcbiAgcmV0dXJuIHJlcy5yZWRpcmVjdCgnL2F1dGg/ZXJyb3I9Tm8gYXV0aGVudGljYXRpb24gY29kZSBwcm92aWRlZCcpO1xyXG59Il0sIm5hbWVzIjpbInN1cGFiYXNlIiwiaGFuZGxlciIsInJlcSIsInJlcyIsImNvZGUiLCJlcnJvciIsImVycm9yX2Rlc2NyaXB0aW9uIiwicXVlcnkiLCJjb25zb2xlIiwicmVkaXJlY3QiLCJlbmNvZGVVUklDb21wb25lbnQiLCJkYXRhIiwic2Vzc2lvbkVycm9yIiwiYXV0aCIsImV4Y2hhbmdlQ29kZUZvclNlc3Npb24iLCJtZXNzYWdlIiwiZXJyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/auth/callback.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2Fcallback&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cauth%5Ccallback.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();